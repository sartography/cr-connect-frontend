<nav>
  <a
    mat-button
    class="site-title mat-display-1"
    [routerLink]="['/']"
  >CR Connect</a>
  <div class="flex-spacer"></div>
  <ng-container *ngFor="let link of isSignedIn() ? signedInNavLinks : signedOutNavLinks">
    <a mat-button
       *ngIf="!link.links"
       [routerLink]="link.path"
       [ngClass]="{'active': isLinkActive(link.path)}"
    >
      {{link.label}}
    </a>

    <ng-container *ngIf="link.links">
      <button mat-icon-button [matMenuTriggerFor]="menu" [attr.aria-label]="link.label">
        <mat-icon>{{link.icon}}</mat-icon>
      </button>
      <mat-menu #menu="matMenu">
        <button
          mat-menu-item
          *ngFor="let menuLink of link.links"
          [routerLink]="menuLink.path"
          [ngClass]="{'active': isLinkActive(menuLink.path)}"
        >
          <mat-icon *ngIf="menuLink.icon">{{menuLink.icon}}</mat-icon>
          <span>{{menuLink.label}}</span>
        </button>
      </mat-menu>
    </ng-container>
  </ng-container>
</nav>
