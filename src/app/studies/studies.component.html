<div class="studies-container">
  <div fxLayout="row" fxLayoutAlign="end end" fxLayoutGap="10px">
    <button (click)="changeNumStudies(-1)" color="primary" mat-mini-fab>
      <mat-icon>exposure_neg_1</mat-icon>
    </button>
    <button (click)="changeNumStudies(1)" color="primary" mat-mini-fab>
      <mat-icon>exposure_plus_1</mat-icon>
    </button>
  </div>

  <h1>Studies</h1>
  <h2>In Progress</h2>
  <div class="status-draft" fxLayout="row wrap" fxLayoutGap="40px">
    <div
      *ngIf="isExpanded"
      class="alert alert-info"
      fxFlex="100"
    >
      <p>To start a new study, first go to HSR IRB Protocol Builder and create a new protocol. When your protocol has
      been created, return here to continue working on it.</p>
      <a
        (click)="isExpanded = false; changeNumStudies(1)"
        color="accent"
        mat-flat-button
        id="cta_protocol_builder"
      >
        Create protocol in Protocol Builder
      </a>
    </div>

    <div
      *ngIf="!isExpanded"
      fxLayout="column"
      fxLayoutAlign="center start"
      (click)="isExpanded = true"
      class="alert alert-info"
      fxFlex="100"
    >
      <button color="primary" mat-flat-button id="cta_new_study">
        <mat-icon>add</mat-icon>
        Start a new study
      </button>
    </div>

    <app-study-card
      *ngFor="let study of draftStudies"
      [study]="study"
      fxFlex="33"
    ></app-study-card>
  </div>

  <h2 [ngClass]="{'disabled': submittedStudies.length === 0}">Submitted</h2>
  <div class="status-submitted" fxLayout="column" fxLayoutGap="40px">
    <app-study-card
      *ngFor="let study of submittedStudies"
      [study]="study"
      fxFlex="33"
    ></app-study-card>
  </div>

  <h2 [ngClass]="{'disabled': activeStudies.length === 0}">Active</h2>
  <div class="status-submitted" fxLayout="column" fxLayoutGap="40px">
    <app-study-card
      *ngFor="let study of activeStudies"
      [study]="study"
      fxFlex="33"
    ></app-study-card>
  </div>

  <h2 [ngClass]="{'disabled': inactiveStudies.length === 0}">Inactive</h2>
  <div class="status-submitted" fxLayout="column" fxLayoutGap="40px">
    <app-study-card
      *ngFor="let study of inactiveStudies"
      [study]="study"
      fxFlex="33"
    ></app-study-card>
  </div>
</div>

