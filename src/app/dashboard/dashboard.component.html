<ng-container *ngIf="study">
  <h1>{{study.title}}</h1>
  <small>
      protocol_builder_status: {{study.protocol_builder_status}}<br>
      last_updated: {{study.last_updated | date}}
  </small>

  <div
    *ngIf="charts.length > 0"
    fxLayout="column"
    fxLayout.gt-sm="row wrap"
  >
    <div
      *ngFor="let chart of charts"
      fxFlex.md="50%"
      fxFlex.gt-md="33%"
      class="chart-container"
      [routerLink]="['workflow', chart.workflowId]"
      [fragment]="'process_category_0_' + chart.workflowId"
      [attr.data-study-id]="study.id"
      [attr.data-workflow-id]="chart.workflowId"
    >
      <h2>{{chart.title}}</h2>
      <canvas baseChart
        [data]="chart.data"
        [labels]="chart.labels"
        [chartType]="chart.type"
        [colors]="chart.colors"
      ></canvas>
    </div>
  </div>

  <div *ngIf="charts.length === 0">
    <button mat-flat-button color="primary" (click)="startWorkflow()">
      Start workflow
    </button>
  </div>
</ng-container>
